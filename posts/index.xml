<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on (Dev)Ops observations</title><link>http://blog.ylitalot.com/posts/</link><description>Recent content in Posts on (Dev)Ops observations</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 05 Jan 2019 12:00:00 +0200</lastBuildDate><atom:link href="http://blog.ylitalot.com/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Github Pages</title><link>http://blog.ylitalot.com/posts/github-pages/</link><pubDate>Sat, 05 Jan 2019 12:00:00 +0200</pubDate><guid>http://blog.ylitalot.com/posts/github-pages/</guid><description>I have maintained Jekyll based static blogs in AWS S3, Google&amp;rsquo;s Cloud Storage and I felt that it might be interesting experiment in Christmas holidays to see what would be best way to do it with GitHub Pages. This seemed as an interesting idea, since GitHub Pages allows you to maintan your blog without locally installed Jekyll.
However if you want to put GitHub in charge of html creation, it has some downsides because your Jekyll version depends on what github-pages plugin supports.</description></item><item><title>Linters</title><link>http://blog.ylitalot.com/posts/linters/</link><pubDate>Thu, 07 Dec 2017 12:00:00 +0200</pubDate><guid>http://blog.ylitalot.com/posts/linters/</guid><description>Linter is any tool that detects and flags errors in programming languages, including stylistic errors. - Wikipedia
My favorite linters for various tasks:
Ansible: ansible-lint Golang: golangci-lint JavaScript: prettier-standard Puppet: puppet-lint Python: pylint Ruby: rubocop Terraform: terraform fmt Changelog 2021-Feb-21: Added golangci-lint</description></item><item><title>Notes about Ansible</title><link>http://blog.ylitalot.com/posts/ansible-notes/</link><pubDate>Wed, 06 Dec 2017 12:00:00 +0200</pubDate><guid>http://blog.ylitalot.com/posts/ansible-notes/</guid><description>My favorite Ansible tools and personal contributions towards Ansible.
Profiling Ansible Create ansible.cfg file into same directory with playbook with following content:
[default] callback_whitelist = profile_tasks Source: ansible-profile
Related tools ansible-lint Related tools Personal opinions, contributions, etc. My personal background with configuration management tools starts from Cfengine in &amp;rsquo;90s that we used to customize Linux installations. Followed by Puppet to setup multi-node installations in &amp;rsquo;00s. In &amp;lsquo;16, I came across with Chef, but my current choice for configuration tasks is Ansible, even if it is not the fastest tool on a market.</description></item><item><title>Notes about SSH</title><link>http://blog.ylitalot.com/posts/ssh-notes/</link><pubDate>Tue, 05 Dec 2017 12:00:00 +0200</pubDate><guid>http://blog.ylitalot.com/posts/ssh-notes/</guid><description>Random notes about ssh config and related topics.
Making hostnames easier Openssh reads your ~/.ssh/config/ before it checks what IP address it should use for connection. This allows you to do things like:
Host bastion.company Hostname 10.10.10.5 IdentityFile ~/.ssh/company.pem ForwardAgent yes User ec2-user or if you wish to by pass bastion:
Host _final_destination_ User _at_bastion_ ProxyCommand ssh _bastion_host_ netcat %h %p So even if the hostname is not in a DNS or it has some strange name like ec2-10-10-10-5.</description></item><item><title>Chef without Chef server</title><link>http://blog.ylitalot.com/posts/chef-without-server/</link><pubDate>Mon, 14 Sep 2015 12:00:00 +0200</pubDate><guid>http://blog.ylitalot.com/posts/chef-without-server/</guid><description>There are couple alternatives available if you wish to use Chef in your infrastructure, but don&amp;rsquo;t have budget to setup hosted Chef service. So far I&amp;rsquo;ve seen one based on Git and another based on AWS S3.
Git based solution In git based solution, create repository into bitbucket.com and create directory tree:
/chef/cookbooks/my_cookbook/definitions/default.rb /chef/cookbooks/my_cookbook/files /chef/cookbooks/my_cookbook/recipes/default.rb In your /chef/cookbooks/my_cookbook/recipes/default.rb, put following text among other stuff:
directory '/root/bin' do owner 'root' group 'root' mode '0700' action :create end cookbook_file '/root/bin/run_chef' do source 'run_chef' owner 'root' group 'root' mode '0700' action :create end cron 'run chef hourly' do minute '13' user 'root' home '/root' command '/root/bin/run_chef' action :create end Create /chef/cookbooks/my_cookbook/files/run_chef:</description></item><item><title>Doctest in Python</title><link>http://blog.ylitalot.com/posts/python-doctest/</link><pubDate>Mon, 14 Sep 2015 12:00:00 +0200</pubDate><guid>http://blog.ylitalot.com/posts/python-doctest/</guid><description>My Assets on Octopress script needed couple modifications and I felt that it was good platform for doing unit tests. Python has nice test framework called doctest, which allows you to insert unit test cases as comments in your python code. My current tests are done for methods that don&amp;rsquo;t recover mockups (for things like file system access) and simply return strings, lists and such to caller.
In following example, I have method called _extract_from_markdown, which gets one line of text from markdown file as string.</description></item><item><title>Notes about Chef</title><link>http://blog.ylitalot.com/posts/chef-notes/</link><pubDate>Mon, 14 Sep 2015 12:00:00 +0200</pubDate><guid>http://blog.ylitalot.com/posts/chef-notes/</guid><description>Random notes about chef configuration management tool and related topics.
Problem with knife bootstrap:
[root@localhost chef-repo]# knife bootstrap --run-list &amp;quot;role[phpapp]&amp;quot; --json-attributes &amp;quot;{\&amp;quot;phpapp\&amp;quot;: {\&amp;quot;server_name\&amp;quot;: \&amp;quot;localhost.localdomain\&amp;quot;}}&amp;quot; --ssh-user root --ssh-password PASSWORD HOSTNAME&amp;lt;br/&amp;gt; Node&amp;amp;nbsp;&amp;amp;nbsp;exists, overwrite it? (Y/N) y&amp;lt;br/&amp;gt; &amp;lt;span style=&amp;quot;color: red&amp;quot;&amp;gt;ERROR:&amp;lt;/span&amp;gt; Method Not Allowed&amp;lt;br/&amp;gt; Response: &amp;amp;lt;html&amp;amp;gt;&amp;amp;lt;head&amp;gt;&amp;amp;lt;title&amp;amp;gt;405 Method Not Allowed&amp;amp;lt;/title&amp;amp;gt;&amp;amp;lt;/head&amp;amp;gt;&amp;amp;lt;body&amp;amp;gt;&amp;amp;lt;h1&amp;amp;gt;Method Not Allowed&amp;amp;lt;/h1&amp;amp;gt;Method Not Allowed&amp;amp;lt;p&amp;amp;gt;&amp;amp;lt;hr&amp;amp;gt;&amp;amp;lt;address&amp;amp;gt;mochiweb+webmachine web server&amp;amp;lt;/address&amp;amp;gt;&amp;amp;lt;/body&amp;amp;gt;&amp;amp;lt;/html&amp;amp;gt; [root@localhost chef-repo]# Solution:
[root@localhost chef-repo]# knife bootstrap &amp;lt;b&amp;gt;--node-name NODENAME&amp;lt;/b&amp;gt; --run-list &amp;quot;role[phpapp]&amp;quot; --json-attributes &amp;quot;{\&amp;quot;phpapp\&amp;quot;: {\&amp;quot;server_name\&amp;quot;: \&amp;quot;localhost.localdomain\&amp;quot;}}&amp;quot; --ssh-user root --ssh-password PASSWORD HOSTNAME&amp;lt;br/&amp;gt; .</description></item><item><title>Notes about IPTables</title><link>http://blog.ylitalot.com/posts/iptables-notes/</link><pubDate>Mon, 14 Sep 2015 12:00:00 +0200</pubDate><guid>http://blog.ylitalot.com/posts/iptables-notes/</guid><description>Random notes about iptables, ufw and such tools in Linux.
Your /etc/sysconfig/iptables should have following lines:
If you are forwarding TCP connections from NAT instance to some instance that doesn&amp;rsquo;t have public IP, you can easily add logging into iptables. Log entries will appear in /var/log/messages.
Lines in /var/log/messages:</description></item><item><title>Notes about Puppet</title><link>http://blog.ylitalot.com/posts/puppet-notes/</link><pubDate>Mon, 14 Sep 2015 12:00:00 +0200</pubDate><guid>http://blog.ylitalot.com/posts/puppet-notes/</guid><description>Random notes about puppet configuration management tool and related topics.
Puppet doesn&amp;rsquo;t like symlinks
When you start building /etc/puppet/environments/production in your puppet master, don&amp;rsquo;t use symlinks on directory tree. I once made the mistake of using symlinks for manifests and modules directories and was getting frustrated, when puppet agent didn&amp;rsquo;t seem to get my manifests/site.pp file.
Once I copied all the directly into /etc/puppet/environments/production tree, things started to work.
Use info(), notice() or debug() in site.</description></item><item><title>VirtualBox notes</title><link>http://blog.ylitalot.com/posts/virtualbotes-notes/</link><pubDate>Mon, 14 Sep 2015 12:00:00 +0200</pubDate><guid>http://blog.ylitalot.com/posts/virtualbotes-notes/</guid><description>Random notes about VirtualBox and related topics.
Problem:
Virtual machines clock keeps on drifting so much that time difference between your VM and Amazon EC2 will go out of thresholds. Once you are beyond threshold limits, EC2 will refuse all commands that require authentication.
You can check this in host OS with:# VBoxManage list vms # for VM in ... # do # VBoxManage guestproperty get VM --timesync-set-threshold # done &amp;lt;b&amp;gt;No value set!</description></item></channel></rss>